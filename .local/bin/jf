#!/usr/bin/env bash

args=`getopt -o "h" --long "help" -n jf -- "$@"`

if [ $? -ne 0 ]; then
    exit 1
fi

eval set -- "$args"
unset args

while true
do
    case "$1" in
        '-h'| '--help') 
            echo "Use fzf to switch a just command"
            exit 0
        ;;
        '--')
            shift
            break
        ;;
        *)
            echo "Invalid argument: $1" >&2
            exit 1
        ;;
    esac
done

just `just -l | fzf` $@
